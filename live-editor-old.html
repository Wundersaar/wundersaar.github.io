<!-- Version: 1.0.7 | Date: 2025-06-09 | Author: Sacrisoft -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wundersaar</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="Magic(k) Cinematic artworks">
    <meta name="keywords" content="Wundersaar, GIF, artworks">
    <meta name="author" content="Wundersaar">
    <!-- Favicon -->
    <link rel="icon" href="https://wundersaar.github.io/images/icon.jpeg" type="image">
    <!-- Open Graph Meta Tags (Facebook, WhatsApp, Signal, WeChat, Telegram) -->
    <meta property="og:title" content="Wundersaar">
    <meta property="og:description" content="Magic(k) Cinematic artworks">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wundersaar.github.io/">
    <meta property="og:image" content="https://wundersaar.github.io/images/wundersaar.jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <!-- Twitter Card Meta Tags (Twitter) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Wundersaar">
    <meta name="twitter:description" content="Magic(k) Cinematic artworks">
    <meta name="twitter:url" content="https://wundersaar.github.io/">
    <meta name="twitter:image" content="https://wundersaar.github.io/images/wundersaar.jpeg">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Monoton&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Bangers&display=swap" rel="stylesheet" />
    <style>
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        background: #111;
        color: white;
        font-family: 'Quicksand', sans-serif;
      }

      h1 {
        font-family: 'Monoton', sans-serif;
        font-size: 70px;
        color: red;
        font-weight: 400;
        text-align: center;
        margin-top: 1rem;
      }

      h2 {
        font-family: 'Bangers', sans-serif;
        color: orange;
        font-size: 40px;
        font-weight: 400;
        text-align: center;
        margin-bottom: 2rem;
      }

      h3 {
        font-family: 'Bangers', sans-serif;
        font-size: 30px;
        font-weight: 400;
      }

      .navbar {
        display: none;
        position: sticky;
        top: 0;
        background: #1a1a1a;
        padding: 1rem 2rem;
        z-index: 100;
        display: none;
        /* Hidden on load */
        justify-content: center;
        gap: 1rem;
      }

      .navbar button {
        padding: 10px 18px;
        font-size: 1rem;
        font-weight: 500;
        background-color: #444;
        color: #fff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      .navbar button:hover {
        background-color: #666;
      }

      .container {
        padding: 4rem 8rem;
        columns: 3 400px;
        column-gap: 2rem;
      }

      .card {
        break-inside: avoid;
        margin-bottom: 2rem;
      }

      .card .edit-controls {
        margin-bottom: 0.5rem;
        display: none;
        gap: 0.5rem;
      }

      body.edit-mode .card .edit-controls {
        display: flex;
      }

      .card .edit-controls button {
        padding: 6px 12px;
        font-size: 0.9rem;
        background-color: #444;
        color: #fff;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      .card .edit-controls button:hover {
        background-color: #666;
      }

      .card img {
        margin: 0 1rem 1rem 0;
        display: block;
        background: #333;
        border-radius: 1rem;
        border: none;
        overflow: hidden;
        min-height: 200px;
        width: 100%;
        cursor: pointer;
        transition: all 0.2s ease-out;
      }

      .card img:hover {
        filter: invert(1);
      }

      .panel {
        font-family: 'Quicksand', sans-serif;
        padding: 0 1rem;
        background-color: #111;
        color: white;
        text-align: justify;
        display: none;
      }

      .card.active .panel {
        display: block;
      }

      .edit-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.9);
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        z-index: 1000;
      }

      .edit-overlay textarea,
      .edit-overlay input {
        width: 90%;
        margin-bottom: 12px;
        padding: 0.75rem 1rem;
        background: #222;
        border: 1px solid #444;
        border-radius: 8px;
        color: #fff;
        font-size: 1rem;
        transition: border 0.2s ease;
      }

      .edit-overlay textarea:focus,
      .edit-overlay input:focus {
        outline: dashed;
        border: 1px;
      }

      .edit-overlay .button-row {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-top: 0.5rem;
      }

      .edit-overlay .button-row button {
        padding: 0.6rem 1.2rem;
        font-size: 1rem;
        font-weight: 500;
        background-color: #444;
        color: #fff;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      .edit-overlay .button-row button:hover {
        background-color: #666;
      }

      @media (max-width: 1000px) {
        .container {
          padding: 2rem;
        }

        h1 {
          font-size: 40px;
        }

        h2 {
          font-size: 30px;
        }
      }

      @media (max-width: 800px) {
        .container {
          columns: 1;
        }
      }

      @media (min-width: 801px) and (max-width: 1200px) {
        .container {
          columns: 2;
        }
      }

      @media (min-width: 1201px) {
        .container {
          columns: 3;
        }
      }

      .card img.drag-over {
        border: 2px dashed white;
        border-radius: 1rem;
      }
    </style>
  </head>
  <body>
    <h1>WUNDERSAAR</h1>
    <h2>Magic(k) Cinematic artworks</h2>
    <!-- Sticky Navbar -->
    <div class="navbar">
      <button onclick="addNewGif()">＋ Add GIF</button>
      <button onclick="saveToHTML()">Save</button>
    </div>
    <div class="container" id="gif-container"></div>
    <div class="edit-overlay" id="editOverlay" style="display:none">
      <input type="text" id="editTitle" placeholder="Title" />
      <textarea id="editDescription" placeholder="Description"></textarea>
      <input type="text" id="editUrl" placeholder="GIF URL" />
      <div class="button-row">
        <button onclick="saveEdit()">Save</button>
        <button onclick="cancelEdit()">Cancel</button>
      </div>
    </div>
    <script>
      const container = document.getElementById('gif-container');
      const editOverlay = document.getElementById('editOverlay');
      let gifs = [];
      let editingIndex = null;

      function renderGifs() {
        container.innerHTML = '';
        const isEditMode = document.body.classList.contains('edit-mode');
        gifs.forEach((gif, index) => {
          const card = document.createElement('div');
          card.className = 'card';
          card.setAttribute('draggable', isEditMode);
          card.dataset.index = index;
          card.innerHTML = `
      
																						<div class="edit-controls">
																							<button onclick="editGif(${index})">Edit</button>
																							<button onclick="deleteGif(${index})">Delete</button>
																						</div>
																						<img src="${gif.url}" alt="${gif.title}" loading="lazy" onclick="togglePanel(this)" />
																						<div class="panel">
																							<h3>${gif.title}</h3>
																							<p>${gif.description}</p>
																						</div>
    `;
          if (isEditMode) {
            card.addEventListener('dragstart', handleDragStart);
            card.addEventListener('dragover', handleDragOver);
            card.addEventListener('drop', handleDrop);
            card.addEventListener('dragend', handleDragEnd);
          }
          container.appendChild(card);
        });
      }
      let draggedIndex = null;

      function handleDragStart(e) {
        draggedIndex = +this.dataset.index;
        this.querySelector('img').classList.add('dragging');
        e.dataTransfer.effectAllowed = 'move';
      }

      function handleDragOver(e) {
        e.preventDefault();
        e.dataTransfer.dropEffect = 'move';
        // Add dashed border to image on dragover
        const img = this.querySelector('img');
        if (!img.classList.contains('drag-over')) {
          img.classList.add('drag-over');
        }
      }

      function handleDrop(e) {
        e.stopPropagation();
        const targetIndex = +this.dataset.index;
        if (draggedIndex !== targetIndex) {
          const movedItem = gifs.splice(draggedIndex, 1)[0];
          gifs.splice(targetIndex, 0, movedItem);
          renderGifs(); // rerender after reorder
        }
      }

      function handleDragEnd() {
        // Remove all dashed borders & dragging classes from images
        document.querySelectorAll('.card img').forEach(img => {
          img.classList.remove('drag-over');
          img.classList.remove('dragging');
        });
      }

      function togglePanel(img) {
        const card = img.closest('.card');
        card.classList.toggle('active');
      }

      function editGif(index) {
        editingIndex = index;
        const gif = gifs[index];
        document.getElementById('editTitle').value = gif.title;
        document.getElementById('editDescription').value = gif.description;
        document.getElementById('editUrl').value = gif.url;
        editOverlay.style.display = 'flex';
      }

      function deleteGif(index) {
        if (confirm('Delete this GIF?')) {
          gifs.splice(index, 1);
          renderGifs();
        }
      }

      function addNewGif() {
        editingIndex = null;
        document.getElementById('editTitle').value = '';
        document.getElementById('editDescription').value = '';
        document.getElementById('editUrl').value = '';
        editOverlay.style.display = 'flex';
      }

      function saveEdit() {
        const title = document.getElementById('editTitle').value;
        const description = document.getElementById('editDescription').value;
        const url = document.getElementById('editUrl').value;
        const gif = {
          title,
          description,
          url
        };
        if (editingIndex !== null) {
          gifs[editingIndex] = gif;
        } else {
          gifs.unshift(gif); // Add new at top
        }
        editOverlay.style.display = 'none';
        renderGifs();
      }

      function cancelEdit() {
        editOverlay.style.display = 'none';
      }
      document.addEventListener('keydown', e => {
        if ((e.ctrlKey || e.metaKey) && e.key === 'e') {
          e.preventDefault();
          document.body.classList.toggle('edit-mode');
          renderGifs();
        }
      });

      function saveToHTML() {
        const name = prompt("Save as:", "index.html");
        if (!name) return;
        // Temporarily hide UI state
        const navbar = document.querySelector('.navbar');
        const body = document.body;
        const previousDisplay = navbar.style.display;
        const wasInEditMode = body.classList.contains('edit-mode');
        navbar.style.display = 'none';
        body.classList.remove('edit-mode');
        // Clone and modify
        const clone = document.documentElement.cloneNode(true);
        const scripts = clone.querySelectorAll("script");
        const lastScript = scripts[scripts.length - 1];
        let content = lastScript.textContent;
        content = content.replace(/gifs\s*=\s*\[[\s\S]*?\];\s*renderGifs\(\);/, '');
        const gifData = `gifs = ${JSON.stringify(gifs, null, 2)};\nrenderGifs();\n`;
        lastScript.textContent = content.trim() + '\n\n' + gifData;
        const html = ' < !DOCTYPE html > \n ' + clone.outerHTML;
        const blob = new Blob([html], {
          type: 'text/html'
        });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = name;
        a.click();
        // Restore previous UI state (optional)
        navbar.style.display = previousDisplay;
        if (wasInEditMode) body.classList.add('edit-mode');
      }
      gifs = [{
        title: "Afternight Aftersun",
        description: "Innuendo ft. Cascinet (festival director Sara Wundersaar Ferro) Innuendo 2019 at CasciNet.",
        url: "https://media.giphy.com/media/QuPc1XWtLYPMJQnGTh/giphy.gif"
      }, {
        title: "Innuendoll at the Queen Hotel",
        description: "Queen of the Innuendolls\n\nThe poster of the first edition of the Innuendo International Film Festival in Milan.",
        url: "https://media.giphy.com/media/MDmhiQehBqd2HzEiYp/giphy.gif"
      }];
      renderGifs();
    </script>
    <script>
      document.addEventListener('keydown', (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'e') {
          e.preventDefault(); // prevent browser default "search in page"
          const navbar = document.querySelector('.navbar');
          const isVisible = getComputedStyle(navbar).display !== 'none';
          navbar.style.display = isVisible ? 'none' : 'flex';
        }
      });
    </script>
    <p style="text-align:center;">© Wundersaar</p>
  </body>
</html>